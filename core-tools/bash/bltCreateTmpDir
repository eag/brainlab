#!/bin/bash

#-------------------------------------------------------------------------------
### USAGE ###
#-------------------------------------------------------------------------------

if [[ $# -ne 2 ]]; then
  echo "Usage: $(basename $0) <1> <2>"
  echo "  <1> = parent directory"
  echo "  <2> = prefix"
  exit 1
fi

#-------------------------------------------------------------------------------
### PROCESSING ###
#-------------------------------------------------------------------------------

tmp_dir_pfx=$1/$2
rand_sfx=$(echo $RANDOM | md5sum | head -c 15)
tmp_dir="${tmp_dir_pfx}_${rand_sfx}"
mkdir -p ${tmp_dir}
chmod 2750 ${tmp_dir}
echo ${tmp_dir}

#-------------------------------------------------------------------------------